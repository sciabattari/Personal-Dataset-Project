# Scott Ciabattari's Personal Dataset Project

## Motivating Question
When I set out onto this project, I knew I wanted to do something about sports.  Sports have been a passion of mine for my entire life and it is what I plan on going into for my career. Once I knew I wanted to base my personal dataset around sports, I shifted to which sport I wanted to focus on.  Football was the obvious answer, and it was justified by the fact that the NFL offseason is upon us and in full swing.  I knew I wanted to focuz on the business side of sports with salary caps, so that is where my mind went next.  I have noticed a trend in the NFL recently and I pulled up a statistic to back up my claim. No team has ever won the Super Bowl with a Quarterback taking up more than 13% of the total cap space allowed. This statistic puzzled me, and I set out to look into the numbers behind it.  The motivating question I will be answering is: How does a Quarterback's salary impact the total wins a football team has in a year?

## Data Process
#### Sourcing
I obtained my data from <a href="https://overthecap.com/"> Over the Cap</a> [1], where I extrated the salary data for all NFL teams in the 2019 season.  I wanted to look at a recent season, but I was afraid to use the 2020 data because I felt it might've been scewed and out of line in recent years due to COVID.  Teams wanted to spend less money in 2020 due to a drop in the salary cap and less revenue coming in.  That is why I chose the 2019 season, as the more recent "normal" season.  From the data I extracted, I took and cleaned the data for Offensive spending (total money spent on the offense), Defensive spending (total money spent on the defense), and QB spending (total money spent on the Quarterback position) for all 32 NFL teams.  

#### Cleaning 
As I was adding my data into my dataset, it was clear that many things needed to be cleaned up.  I needed to get rid of all the commas in the numbers to help with the visualization section.  I also wanted to see the total amount spent by each team, and since <a href="https://overthecap.com/"> Over the Cap</a> [1] did not provide that number, I simply added my Offensive Spending and Defensive Spending columns together to get that number.  I also wanted to include percentages of how much the QB salary was related to my new total spendings columns.  I simply divided the two together, then rounded the answer and inserted % to all of them.  This gave me a more clear look at the statistic that started my motivating question in the first place and I found it very helpful. At this point I felt my data was ready to be implemented into RStudio for visualization

## Visualization
After I had completed the processing of my data, I took a step back and began to look at how I wanted to go about answering my motivating question.  My initial idea was to just look at how the QB% looked vs. Wins and I came up with this visualization. 
![QB% VS. Wins](https://raw.githubusercontent.com/sciabattari/Personal-Dataset-Project/main/Visualizations/Screen%20Shot%202021-04-24%20at%2011.42.06%20AM.png)
While this visualization was important and there seemed to be a slight trend line, it did not factor in the the total amount spent by each team.  I feel that the total amount spent is very important to understanding how teams operate their salary caps and I wanted to include that.  This visualization was also hard to read and quite messy so I began to look elsewhere.  In order to factor in all the data points I wanted, I began to think of using a scatter plot.  From there, I debated between looking at QB% vs. Offensive Spending or QB% vs. Total Spending.  This would give a different idea of how teams operate their cap space.  So I looked at the two figures side by side to see the differences. I also added an Offensive Spending vs. Defensive Spending to see if that figure gave me any room for analysis as well.
<table>
  <tr><td><img src="https://raw.githubusercontent.com/sciabattari/Personal-Dataset-Project/main/Visualizations/Screen%20Shot%202021-04-24%20at%2012.32.22%20PM.png"></td><td><img src="https://raw.githubusercontent.com/sciabattari/Personal-Dataset-Project/main/Visualizations/Screen%20Shot%202021-04-24%20at%2012.32.30%20PM.png"></td><td><img src="https://raw.githubusercontent.com/sciabattari/Personal-Dataset-Project/main/Visualizations/Screen%20Shot%202021-04-24%20at%2012.54.30%20PM.png"></td></tr>
   <tr><td>QB% vs. Total Salary Spent</td><td>QB% vs. Offensive Players Salary </td><td>Offensive Spending vs. Defensive Spending</td></tr>
  </table>
These visualizations gave me a new perspective on how the salary cap works. It became clear that teams are prioritizing different things depending on their individual strategies and each strategy would yield a different result. I did find it interesting how the graphs variated between looking at QB% vs Total and Offensive salaries.  They were similar, but it seemed that total was more compact while offensive was more spread out.  This could be due to some teams prioritizing or ignoring defense while keeping similar total numbers. 

## Analysis
For my analysis I wanted to see how teams would be clustered together and if there were any patterns there with that.  I used kmeans clustering in R to accomplish this and I looked at the clutering of the scatter plots for the 3 visualizaitons I used above. The 3 new figures are shown below and illustrate the different groupings that arise when looking at the datasets. 

<table>
  <tr><td><img src="https://raw.githubusercontent.com/sciabattari/Personal-Dataset-Project/main/Visualizations/Screen%20Shot%202021-04-24%20at%2011.42.53%20AM.png"></td><td><img src="https://raw.githubusercontent.com/sciabattari/Personal-Dataset-Project/main/Visualizations/Screen%20Shot%202021-04-24%20at%201.14.35%20PM.png"></td><td><img src="https://raw.githubusercontent.com/sciabattari/Personal-Dataset-Project/main/Visualizations/Screen%20Shot%202021-04-24%20at%201.19.10%20PM.png"></td></tr>
   <tr><td>QB% vs. Total Salary</td><td>QB% vs. Offensive Salary</td><td>Offensive vs. Defensive Salary</td></tr>
  </table>
  
These figures made a couple things very apparent to me. The teams that did not overspend on QB typically ended with a better record than those teams who spent above 17% on the position.  This can be misleading though, because all teams are different.  Some teams are able to have an elite QB on a rookie level deal (small amount of money, in this case teams like the Chiefs, Ravens, Texans etc) and still excel at a high level.  Other teams are able to spend a modest amount on the QB position while prioritizing Defense (mid-level money, in this case teams like the 49ers, Patriots etc.). The third clusters I like to categorize as teams who are desperate for a QB and are not spending much money elsewhere so they overpay (high amount of money on QB, low amount on Defense, in this case teams like the Lions, WFT, Packers etc.). The cluster that had the best winning average was the cluster that used a modest amount of their cap space on QB and spent big on defense and total money.  What I take away from this, is that it is okay to spend some money on QB as long as you do not over spend.  The exception to this is having an elite young QB on their small rookie deal to hwhere you can spend the extra money elsewhere. 

The answer to my motivating question goes like this: A team who spends in the upper tier on QB will have a negative impact on the rest of their roster and their win total as a result.  Teams that spend in the mid-level range on a QB on average have the most regular season wins because they can fill out the rest of their roster.  Every team works their salary cap differently, which is important to note.  Not every team is in the same situation, but in order to win games, teams need to spend money and spread it around their roster instead of loading up on QB.

## References
[1] Overthecap.com. “Positional Spending.” Over the Cap, overthecap.com/positional-spending/. 
